@import "tailwindcss";
@plugin "@tailwindcss/typography";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* 显式暗色变量：当 html 上存在 .dark 类时，强制使用暗色 */
html[data-theme="light"] { --background: #ffffff; --foreground: #171717; }
html[data-theme="dark"], .dark { --background: #0a0a0a; --foreground: #ededed; }

/* Markdown 渲染的文章样式 */
.prose {
  color: var(--foreground);
  /* 覆盖 Tailwind Typography 变量，确保黑白主题下对比清晰 */
  --tw-prose-body: var(--foreground);
  --tw-prose-headings: var(--foreground);
  --tw-prose-links: var(--foreground);
  --tw-prose-bold: var(--foreground);
  --tw-prose-counters: var(--foreground);
  --tw-prose-bullets: var(--foreground);
  --tw-prose-hr: var(--color-border);
  --tw-prose-quotes: var(--foreground);
  --tw-prose-quote-borders: var(--color-border);
  --tw-prose-captions: var(--foreground);
  --tw-prose-code: var(--foreground);
  --tw-prose-pre-code: var(--foreground);
  --tw-prose-pre-bg: var(--background);
}
.prose a { text-decoration: underline; }
.prose code { font-family: var(--font-geist-mono); }
.prose pre code { display: block; padding: 0; }
.prose ul { list-style: disc; }
.prose ol { list-style: decimal; }

/* 暗色模式反色 */
.dark .prose {
  color: var(--foreground);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Design tokens */
:root {
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --shadow-sm: 0 1px 2px rgba(0,0,0,.06);
  --shadow-md: 0 4px 16px rgba(0,0,0,.08);
  --color-border: #e5e7eb; /* zinc-200 */
  --color-border-dark: #262626; /* zinc-800 */
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.375rem;
  border-radius: var(--radius-md);
  padding: 0.375rem 0.75rem;
  font-size: 0.875rem;
  line-height: 1.25rem;
  transition: background .15s ease, color .15s ease, border-color .15s ease, opacity .15s ease;
}
.btn:disabled { opacity: .6; cursor: not-allowed; }
.btn:focus { outline: 2px solid currentColor; outline-offset: 2px; }

.btn-outline { border: 1px solid var(--color-border); background: transparent; color: var(--foreground); }
.dark .btn-outline { border-color: var(--color-border-dark); }
.btn-outline:hover { background: #f5f5f5; }
.dark .btn-outline:hover { background: #1a1a1a; }

/* Primary：始终黑底白字（黑白极简） */
.btn-primary { background: #000; color: #fff; }
.btn-primary:hover { background: #222; }
.dark .btn-primary { background: #000; color: #fff; }
.dark .btn-primary:hover { background: #222; }

/* Danger：不使用红色，以黑白变化体现危险操作 */
.btn-danger { border: 2px solid #000; background: transparent; color: #000; }
.btn-danger:hover { background: #000; color: #fff; }
.dark .btn-danger { border-color: #fff; color: #fff; }
.dark .btn-danger:hover { background: #fff; color: #000; }

/* Input */
.input {
  width: 100%;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--background);
  color: var(--foreground);
  padding: 0.5rem 0.75rem;
}
.input:focus { outline: 2px solid #000; outline-offset: 2px; }
.dark .input { border-color: var(--color-border-dark); background: #0a0a0a; }
.dark .input:focus { outline-color: #fff; }

/* Card：去除阴影，黑白极简 */
.card { border: 1px solid var(--color-border); border-radius: var(--radius-md); background: var(--background); box-shadow: none; }
.dark .card { border-color: var(--color-border-dark); background: #0a0a0a; }

/* Skeleton */
.skeleton { border-radius: var(--radius-md); background: #e5e7eb; }
.dark .skeleton { background: #1f2937; }

/* Tooltip */
.tooltip-content { border: 1px solid var(--color-border); background: #fff; color: #111; border-radius: var(--radius-md); padding: 0.25rem 0.5rem; box-shadow: var(--shadow-sm); }
.dark .tooltip-content { background: #000; color: #fff; border-color: var(--color-border-dark); }

/* Dialog */
.dialog-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,.4); display: flex; align-items: center; justify-content: center; }
.dialog-content { width: 320px; background: #fff; color: #111; border-radius: var(--radius-md); padding: 1rem; box-shadow: none; border: 1px solid var(--color-border); }
.dark .dialog-content { background: #0a0a0a; color: #ededed; border-color: var(--color-border-dark); }

/* Prose tweaks */
.prose h1, .prose h2, .prose h3 { scroll-margin-top: 6rem; }
.prose pre { background: #fff; padding: 0.75rem; border-radius: var(--radius-md); border: 1px solid var(--color-border); }
.dark .prose pre { background: #0a0a0a; border-color: var(--color-border-dark); }
.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 { color: var(--foreground); }
.dark .prose h1, .dark .prose h2, .dark .prose h3, .dark .prose h4, .dark .prose h5, .dark .prose h6 { color: var(--foreground); }
